<!DOCTYPE html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108165472-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-108165472-1');
    </script>

    <meta charset="utf-8">
    <title>Nathan Majumder</title>
    <script type='text/javascript' language='javascript' src='CanvasInput-master/CanvasInput.js'></script>
    <script type='text/javascript' language='javascript' src='crossword-helper-funcs.js'></script>
    <script type='text/javascript' language='javascript' src='ca/ca4.js'></script>
    <link rel="stylesheet" href="css/normalize.css">
    <link href='http://fonts.googleapis.com/css?family=Josefin+Sans:400,600|Exo:400,600,600italic|Muli' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/basestyle.css">
    <link rel="stylesheet" href="css/responsive.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body id="crosswords">
    <header>
      <a href="index.html" id="logo">
        <h1>Nathan Majumder</h1>
      </a>
      <nav>
        <ul>
          <li><a href="index.html">Homepage</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="resume.html">Resume</a></li>
          <li><a href="projects.html">Projects</a></li> 
          <li><a href="crossword.html" class="selected">Crosswords</a></li>         
          <li><a href="abroad.html">Abroad</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>

    <div id="screenSizeMsg">
    	<h2>Sorry, crosswords are not supported on screens of this size.</h2>
    	<h3>Please try again on a larger device. Screen width must be greater than 680 pixels to use this feature, but the best experience is on devices of 1100 pixels or greater (any normal computer will work). Thanks!
    </div>
    <div id="crosswordWrapper">
        <div class="crossTitleBar">
    		<h2 class="crossTitle">Second Time's the Charm</h2>
    		<h4 class="crossAuthor">By Nathan Majumder</h4>
        </div>
        <div class="checkDropdown">
          <button class="dropbtn">Check</button>
          <div class="dropdown-content">
            <a onclick="help(0,0)">Square</a>
            <a onclick="help(0,1)">Word</a>
            <a onclick="help(0,2)">Puzzle</a>
          </div>
        </div>
        <div class="revealDropdown">
          <button class="dropbtn">Reveal</button>
          <div class="dropdown-content">
            <a onclick="help(1,0)">Square</a>
            <a onclick="help(1,1)">Word</a>
            <a onclick="help(1,2)">Puzzle</a>
          </div>
        </div>
        <div class="timer">
            <button id="pauseBtn" onclick="pauseGame()"><img src="img/pause.png"></button>
            <span id="timeCounter"><label id="minutes">00</label>:<label id="seconds">00</label></span>
        </div>
        <button id="backbtn" onclick="crossBack()">Back</button>
        <button id="clearbtn" onclick="crossClear()">Reset</button>

    	<canvas id="canvas" width="630px" height="630px" style="border: 1px solid black;"></canvas>
    	<canvas id="midCanvas" width="630px" height="630px"></canvas>
    	<canvas id="topCanvas" width="630px" height="630px" style="border: 1px solid black;"></canvas>
    	<div id="clues">
    		<div id="across">
    			<h3 class="center">Across</h3>
    			<div class="clueScroll">
        			<ul class="numClues">
        				<li onclick="clueClicked(this,0)"><span class="bold">1.</span> Mild, in Madrid</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">5.</span> Entered, as data to a spreadsheet</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">10.</span> Archer necessity</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">13.</span> App that can keep track of appts.</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">14.</span> Like Lindbergh during his famous transatlantic flight</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">15.</span> ___-fi</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">16.</span> Bad beef bacteria</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">17.</span> Secretive scheming</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">19.</span> * Like John Huston's 1956 adaptation of Moby Dick</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">21.</span> * Home of the world's busiest airport</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">22.</span> Prefix pertaining to ears</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">23.</span> "Personally, I think..." to a texter</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">24.</span> Mediterranean sandwich</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">25.</span> ___-pedi</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">27.</span> Denmark : Krone :: Mexico : ___</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">28.</span> Lbs. in America and kgs. in Europe</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">31.</span> Up to one's old tricks</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">34.</span> Repeated word before "for the home team" during the seventh inning stretch</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">35.</span> Starting over from scratch ... Or the trick to the starred clues in this puzzle</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">38.</span> Athletic conf. for Virginia State among others</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">39.</span> One of a pair that clips onto trousers</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">40.</span> Day on Mars, to astronomers</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">41.</span> "___ the pulse of summer in the ice" (Dylan Thomas line)</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">43.</span> Tell ___ story (look for sympathy)</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">44.</span> Disrespectful kid</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">45.</span> Dinner or dessert pastry dish</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">46.</span> Cardinals, on the scoreboard</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">49.</span> * Return after hiking to a peak</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">52.</span> * Osama Bin Laden, for one</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">54.</span> Sets of successive chord notes</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">56.</span> "Twenty Thousand Leagues Under the Sea" writer</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">57.</span> Bob who has been the leader of the Liberal Party of Canada</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">58.</span> Like the tower at Pisa</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">59.</span> Many Keats works</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">60.</span> Takeoff approx.</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">61.</span> Body parts necessary for olfaction</li>
        				<li onclick="clueClicked(this,0)"><span class="bold">62.</span> ___ of Wight</li>
        			</ul>
    			</div>
    		</div>
    		<div id="down">
    			<h3 class="center">Down</h3>
    			<div class="clueScroll">
        			<ul class="numClues">
        				<li onclick="clueClicked(this,1)"><span class="bold">1.</span> Allowed by law</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">2.</span> Thrifty</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">3.</span> Farewell, in ancient Rome</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">4.</span> * Remove</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">5.</span> Ipso ___</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">6.</span> "The Time Machine" race</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">7.</span> Alex Acosta's domain as of 2017: Abbr.</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">8.</span> Embeds decoratively</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">9.</span> * Particle whose name hints at its charge</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">10.</span> It constitutes nearly one third of the world's land mass</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">11.</span> Destination for a mouse, maybe?</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">12.</span> Mojito herb</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">16.</span> "The Name of the Rose" author Umberto</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">18.</span> ___-mo replay</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">20.</span> Peru pal</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">24.</span> Part of a family?</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">26.</span> Aleutian Island home to a World War II monument created by Bush</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">27.</span> Stimulate, as curiosity</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">28.</span> Aging vessel for some types of alcohol</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">29.</span> Lifting desire</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">30.</span> Ham or road ending</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">31.</span> Preschool lesson taught with a song</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">32.</span> Singer Cruz</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">33.</span> Benefit</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">34.</span> Western US city nicknamed "The Biggest Little City in the World"</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">36.</span> "___ of Blue Eyes" (Thomas Hardy novel)</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">37.</span> * Fluid holder</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">41.</span> * Mediterranean herb</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">42.</span> Serenaded</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">44.</span> Ancient date letters</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">45.</span> Unwelcome house visitors</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">47.</span> Post-wash cycle</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">48.</span> City home to the most sacred shrine in Japan</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">49.</span> Truth alternative</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">50.</span> Quod ___ demonstrandum</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">51.</span> Risked a ticket</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">52.</span> Lacquered metalware</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">53.</span> British reference vols.</li>
        				<li onclick="clueClicked(this,1)"><span class="bold">55.</span> Saddam Hussein's surveillance agency, for short</li>
        			</ul>
    			</div>
    		</div>
    	</div>
    </div>
    <div id="popup">
		<h2 id="popupmsg">Congratulations, you've successfully solved the puzzle!</h2>
		<button id="closebtn" onclick="closePopup()">Close</button>
	</div>
    <div id="resetpopup">
        <h2 id="resetpopupmsg">Are you sure you want to reset this puzzle? This cannot be undone.</h2>
        <button id="cancelresetbtn" onclick="cancelResetPopup()">Cancel</button>
        <button id="continueresetbtn" onclick="continueResetPopup()">Reset</button>
    </div>
    <div id="comment_wrapper">
        <div id="disqus_thread"></div>
    </div>
    <script>

    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    
    var disqus_config = function () {
    this.page.url = "http://nmajumder.github.io/crossword4.html";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "crossword4"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://nmajumder-github-io-crossword.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments.</a></noscript>

    <script type="text/javascript">
    document.title = document.getElementsByClassName("crossTitle")[0].innerHTML;
    
    // SET CROSSWORD PUZZLE NUMBER -- TO BE INSERTED INTO LOCALSTORAGE VAR NAMES
    // must be a string of the number only
    const PUZZLE_NUM = "4";

    const ARR_SIZE = 15;
    const BOARD_SIZE = 630;
    const BOX_SIZE = BOARD_SIZE / ARR_SIZE;

    var canvas = document.getElementById("canvas");
    var topcanvas = document.getElementById("topCanvas");
    var midcanvas = document.getElementById("midCanvas");

    // Get the canvas contexts
    var ctx = canvas.getContext("2d");
    var tctx = topcanvas.getContext("2d");
    var mctx = midcanvas.getContext("2d");


    // Get entire crossword wrapper
    var wrapper = document.getElementById("crosswordWrapper");
    var popup = document.getElementById("popup");
    var popupmsg = document.getElementById("popupmsg");
    var closebtn = document.getElementById("closebtn");

    var gameover = false;
    if (localStorage.getItem("gameover" + PUZZLE_NUM)) {
        gameover = JSON.parse(localStorage.getItem("gameover" + PUZZLE_NUM));
    } else {
        localStorage.setItem('gameover' + PUZZLE_NUM,JSON.stringify(gameover));
    }

    var minutesLabel = document.getElementById("minutes");
    var secondsLabel = document.getElementById("seconds");
    var totalSeconds = 0;
    if (localStorage.getItem("time" + PUZZLE_NUM)) {
        totalSeconds = JSON.parse(localStorage.getItem("time" + PUZZLE_NUM));
        secondsLabel.innerHTML = pad(totalSeconds%60);
        minutesLabel.innerHTML = pad(parseInt(totalSeconds/60));
    }

    var idleSeconds = 0;

    var noClick = false;
    if (!gameover) {
        var timer = setInterval(setTime, 1000);
        var idleTimer = setInterval(incrementIdle, 1000);
        openPopup(3);
    }

    // initialize variables to be used throughout
    blanks = [];
    highlighted = [];

    initializeHighlightedSpace();

    //console.log(answers);

    //
    // Draw the darker gray "highlighted" answer boxes (must be done custom by hand)
    //
    ctx.beginPath();

    ctx.rect(4*BOX_SIZE,0,1*BOX_SIZE,15*BOX_SIZE);
    ctx.rect(10*BOX_SIZE,0,1*BOX_SIZE,15*BOX_SIZE);
    ctx.rect(0,3*BOX_SIZE,15*BOX_SIZE,1*BOX_SIZE);
    ctx.rect(0,7*BOX_SIZE,15*BOX_SIZE,1*BOX_SIZE);
    ctx.rect(0,11*BOX_SIZE,15*BOX_SIZE,1*BOX_SIZE);
    ctx.fillStyle = "#D3D3D3";
    ctx.fill();

    ctx.closePath();

    //
    // Draw the basic grid for the puzzle
    // draw the black spaces in the puzzle
    //
    initializeGridPattern();

    //
    // Draw the numbers in the corners (automated for all puzzles)
    //
    // Also store the space where each number is
    //
    var numbers = new Array(ARR_SIZE);

    initializeClueNumbers();

    //console.log(numbers);

    //
    // initialize the array of blanks (black squares) and highlighted (darker gray words)
    // this should be the same for all puzzles as long as the same colors are used
    // i.e. #000000 --> (0,0,0,255) and #D3D3D3 --> (211,211,211,255)
    //
    initializeBlanksArray();

    // check to make sure blanks has right values
    /*for (i = 0; i < blanks.length; i++) {
      console.log(blanks[i][0], blanks[i][1]);
    }*/


    //
    // DEAL WITH THE CLUE-BOX INTERACTIONS HERE
    //

    // get clue lists as javascript variables
    var acrossList = document.getElementById("across").getElementsByTagName("li");
    var downList = document.getElementById("down").getElementsByTagName("li");

    var acrossClues = document.getElementById("across").getElementsByClassName("clueScroll")[0];
    var downClues = document.getElementById("down").getElementsByClassName("clueScroll")[0];


    var pcIndex = 0; // index in prev clue list
    var pcList = acrossList;
    var pcListInd = 0;
    //clueClicked(pcList[pcIndex],0);

    var extraKeyDown = false;
    var shiftKeyDown = false;

    // 
    //  ON CLICK OF BOX, SET SELECTED BOX / CLUE
    //
    topcanvas.addEventListener('click', function(event) {
        var x = Math.ceil((event.pageX - canvas.offsetLeft)/BOX_SIZE);
        var y = Math.ceil((event.pageY - canvas.offsetTop)/BOX_SIZE);
        if (contains(blanks,[x,y])) {
            return;
        }
        if (curx == x && cury == y) {
            dir = !dir;
        } else {
            curx = x;
            cury = y;
        }
        setSelected(curx,cury,dir);
    });

    initializeFixedBoxes();

    //console.log(fixedBoxes);

    initializeInputBoxes();

    //console.log(inputBoxes);
    
    applyLocalStorage();

    setSelected(curx,cury,dir);

    </script>


    <footer>
        <a href="http://facebook.com/nathanmajumder"><img src="img/FB_logo.png" alt="Facebook logo"></a>
        <a href="https://github.com/nmajumder"><img src="img/GH_logo.png" alt="Github logo"></a>
        <a href="https://www.linkedin.com/pub/nathan-majumder/a6/29/b34?domainCountryName=&csrfToken=ajax%3A6249601243831115177"><img src="img/LI_logo.png" alt="LinkedIn logo"></a>
        <p>&copy; 2018 Nathan Majumder.</p>
      </footer>
    </div>
  </body>
</html>