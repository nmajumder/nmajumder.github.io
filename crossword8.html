<!DOCTYPE html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108165472-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-108165472-1');
    </script>

    <meta charset="utf-8">
    <title>Nathan Majumder</title>
    <script type='text/javascript' language='javascript' src='CanvasInput-master/CanvasInput.js'></script>
    <script type='text/javascript' language='javascript' src='crossword-helper-funcs.js'></script>
    <script type='text/javascript' language='javascript' src='ca/ca8.js'></script>
    <link rel="stylesheet" href="css/normalize.css">
    <link href='http://fonts.googleapis.com/css?family=Josefin+Sans:400,600|Exo:400,600,600italic|Muli' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/basestyle.css">
    <link rel="stylesheet" href="css/responsive.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body id="crosswords">
    <header>
      <a href="index.html" id="logo">
        <h1>Nathan Majumder</h1>
      </a>
      <nav>
        <ul>
          <li><a href="index.html">Homepage</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="resume.html">Resume</a></li>
          <li><a href="projects.html">Projects</a></li> 
          <li><a href="crossword.html" class="selected">Crosswords</a></li>         
          <li><a href="abroad.html">Abroad</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>

    <div id="screenSizeMsg">
    	<h2>Sorry, crosswords are not supported on screens of this size.</h2>
    	<h3>Please try again on a larger device. Screen width must be greater than 680 pixels to use this feature, but the best experience is on devices of 1100 pixels or greater (any normal computer will work). Thanks!
    </div>
    <div id="crosswordWrapper">
        <div class="crossTitleBar">
    		<h2 class="crossTitle">Capital Punishment</h2>
    		<h4 class="crossAuthor">By Nathan Majumder</h4>
        </div>
        <div class="checkDropdown">
          <button class="dropbtn">Check</button>
          <div class="dropdown-content">
            <a onclick="help(0,0)">Square</a>
            <a onclick="help(0,1)">Word</a>
            <a onclick="help(0,2)">Puzzle</a>
          </div>
        </div>
        <div class="revealDropdown">
          <button class="dropbtn">Reveal</button>
          <div class="dropdown-content">
            <a onclick="help(1,0)">Square</a>
            <a onclick="help(1,1)">Word</a>
            <a onclick="help(1,2)">Puzzle</a>
          </div>
        </div>
        <div class="timer">
            <button id="pauseBtn" onclick="pauseGame()"><img src="img/pause.png"></button>
            <span id="timeCounter"><label id="minutes">00</label>:<label id="seconds">00</label></span>
        </div>
        <button id="backbtn" onclick="crossBack()">Back</button>
        <button id="clearbtn" onclick="crossClear()">Reset</button>

    	<canvas id="canvas" width="630px" height="630px" style="border: 1px solid black;"></canvas>
    	<canvas id="midCanvas" width="630px" height="630px"></canvas>
    	<canvas id="topCanvas" width="630px" height="630px" style="border: 1px solid black;"></canvas>
    	<div id="clues">
    		<div id="across">
    			<h3 class="center">Across</h3>
    			<div class="clueScroll">
        			<ul class="numClues">
                        <li onclick="clueClicked(this,0)"><span class="bold">1.</span> First half of a women's college outside Philadelphia</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">5.</span> Teacher of the Dharma</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">9.</span> Chinese restaurant menu assurance</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">14.</span> Wine barrel sediment</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">15.</span> Title character of a 2007 spin-off of "Bruce Almighty"</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">16.</span> Online party notice</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">17.</span> Like 8 of an NFL team's regular season games, usually</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">18.</span> Speak of the people</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">20.</span> One robbed of all his Francs, maybe ... Not one caught in a house fire</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">22.</span> Old-time school teacher</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">23.</span> Place to store i soldi</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">24.</span> Long time</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">26.</span> Teacher support grp.</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">27.</span> Genesis name</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">28.</span> Prison sentence</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">32.</span> Advance again</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">34.</span> Frankie Avalon's 1958 hit "___ Dinah"</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">36.</span> Shapeshifting demigod in "Moana"</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">38.</span> It may carry a jib</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">39.</span> Grub purchased with Won, maybe ... Not fried chicken</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">42.</span> Clinton's group, for short</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">44.</span> Wing for the 42-Across</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">45.</span> Smelter residue</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">49.</span> Language in which 39-Across might be ordered</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">51.</span> Meg of "When Harry Met Sally..."</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">53.</span> When appended to 51-Across, low-cost Irish carrier</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">54.</span> When repeated, "Teletubbies" vacuum cleaner character</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">55.</span> "___ in Uniform" (phonetic alphabet clarification)</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">57.</span> Poetry scheme</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">59.</span> Long ago, in Old English</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">61.</span> Path to one's seat at a theater accepting Rupees, maybe ... Not a part of Whole Foods</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">65.</span> Some diplomatic personnel</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">67.</span> "O Holy Night" e.g.</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">68.</span> Silicate varieties harden into igneous rock</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">69.</span> Statement when tossing chips into the pot</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">70.</span> Famed Italian actress Eleonora</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">71.</span> Aft-most part of the ship</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">72.</span> Snow day structure</li>
                        <li onclick="clueClicked(this,0)"><span class="bold">73.</span> Nursery rhyme arachnid descriptor</li>
        			</ul>
    			</div>
    		</div>
    		<div id="down">
    			<h3 class="center">Down</h3>
    			<div class="clueScroll">
        			<ul class="numClues">
                        <li onclick="clueClicked(this,1)"><span class="bold">1.</span> Couldn't keep a secret</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">2.</span> Fix, as damaged fabric, maybe</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">3.</span> Craved, with "for"</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">4.</span> "This I Promise You" band</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">5.</span> Big name in jeans</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">6.</span> Con : Spanish :: ___ : French</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">7.</span> Adjunct to many gas stations</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">8.</span> Woody Allen's "___ Hall"</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">9.</span> Japanese multinational IT giant</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">10.</span> Reproductive cell that is visible to the  naked eye</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">11.</span> Some Pepperidge Farm treats</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">12.</span> Ogle</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">13.</span> Language in which a 20-Across might call  for help</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">19.</span> "____ Vincit Omnia"</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">21.</span> Big tank</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">25.</span> Verne captain</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">29.</span> Texter's qualifier</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">30.</span> Darth ___</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">31.</span> Mathematician for whom the constant e is  named</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">33.</span> Boys, to a Brit</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">35.</span> Title teen in a J.D. Salinger story</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">37.</span> Up in the air</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">40.</span> Jacob's twin brother</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">41.</span> Hiroshima's river</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">42.</span> One who is walked all over, pun intended</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">43.</span> Like the Colorado River's effects in  the Grand Canyon</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">46.</span> Explains, as a plan</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">47.</span> Desultory</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">48.</span> Horace who was founder and editor of the  New York Tribune in the mid 1800s</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">49.</span> Prepares for a sword to tap one's shoulder</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">50.</span> Zilch</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">52.</span> Org. involved with 2nd Amendment issues</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">56.</span> Decorative line on the end of a letter</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">58.</span> Language that might be heard in a  61-Across</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">60.</span> Ivan the Terrible, for one</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">62.</span> VIP carrier, for short</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">63.</span> One expected to succeed?</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">64.</span> Stevie Wonder's "___ She Lovely"</li>
                        <li onclick="clueClicked(this,1)"><span class="bold">66.</span> 9 digit I.D.</li>
        			</ul>
    			</div>
    		</div>
    	</div>
    </div>
    <div id="popup">
		<h2 id="popupmsg">Congratulations, you've successfully solved the puzzle!</h2>
		<button id="closebtn" onclick="closePopup()">Close</button>
	</div>
    <div id="resetpopup">
        <h2 id="resetpopupmsg">Are you sure you want to reset this puzzle? This cannot be undone.</h2>
        <button id="cancelresetbtn" onclick="cancelResetPopup()">Cancel</button>
        <button id="continueresetbtn" onclick="continueResetPopup()">Reset</button>
    </div>

    <script type="text/javascript">
    
    // SET CROSSWORD PUZZLE NUMBER -- TO BE INSERTED INTO LOCALSTORAGE VAR NAMES
    // must be a string of the number only
    const PUZZLE_NUM = "8";

    const ARR_SIZE = 15;
    const BOARD_SIZE = 630;
    const BOX_SIZE = BOARD_SIZE / ARR_SIZE;

    var canvas = document.getElementById("canvas");
    var topcanvas = document.getElementById("topCanvas");
    var midcanvas = document.getElementById("midCanvas");

    // Get the canvas contexts
    var ctx = canvas.getContext("2d");
    var tctx = topcanvas.getContext("2d");
    var mctx = midcanvas.getContext("2d");


    // Get entire crossword wrapper
    var wrapper = document.getElementById("crosswordWrapper");
    var popup = document.getElementById("popup");
    var popupmsg = document.getElementById("popupmsg");
    var closebtn = document.getElementById("closebtn");

    var gameover = false;
    if (localStorage.getItem("gameover" + PUZZLE_NUM)) {
        gameover = JSON.parse(localStorage.getItem("gameover" + PUZZLE_NUM));
    } else {
        localStorage.setItem('gameover' + PUZZLE_NUM,JSON.stringify(gameover));
    }

    var minutesLabel = document.getElementById("minutes");
    var secondsLabel = document.getElementById("seconds");
    var totalSeconds = 0;
    if (localStorage.getItem("time" + PUZZLE_NUM)) {
        totalSeconds = JSON.parse(localStorage.getItem("time" + PUZZLE_NUM));
        secondsLabel.innerHTML = pad(totalSeconds%60);
        minutesLabel.innerHTML = pad(parseInt(totalSeconds/60));
    }

    var idleSeconds = 0;

    var noClick = false;
    if (!gameover) {
        var timer = setInterval(setTime, 1000);
        var idleTimer = setInterval(incrementIdle, 1000);
        openPopup(3);
    }

    // initialize variables to be used throughout
    blanks = [];
    highlighted = [];

    initializeHighlightedSpace();

    //console.log(answers);

    //
    // Draw the darker gray "highlighted" answer boxes (must be done custom by hand)
    //
    // No grey boxes for this puzzle
    //


    //
    // Draw the basic grid for the puzzle
    // draw the black spaces in the puzzle
    //
    initializeGridPattern();

    //
    // Draw the numbers in the corners (automated for all puzzles)
    //
    // Also store the space where each number is
    //
    var numbers = new Array(ARR_SIZE);

    initializeClueNumbers();

    //console.log(numbers);

    //
    // initialize the array of blanks (black squares) and highlighted (darker gray words)
    // this should be the same for all puzzles as long as the same colors are used
    // i.e. #000000 --> (0,0,0,255) and #D3D3D3 --> (211,211,211,255)
    //
    initializeBlanksArray();

    // check to make sure blanks has right values
    /*for (i = 0; i < blanks.length; i++) {
      console.log(blanks[i][0], blanks[i][1]);
    }*/


    //
    // DEAL WITH THE CLUE-BOX INTERACTIONS HERE
    //

    // get clue lists as javascript variables
    var acrossList = document.getElementById("across").getElementsByTagName("li");
    var downList = document.getElementById("down").getElementsByTagName("li");

    var acrossClues = document.getElementById("across").getElementsByClassName("clueScroll")[0];
    var downClues = document.getElementById("down").getElementsByClassName("clueScroll")[0];


    var pcIndex = 0; // index in prev clue list
    var pcList = acrossList;
    var pcListInd = 0;
    //clueClicked(pcList[pcIndex],0);

    var extraKeyDown = false;
    var shiftKeyDown = false;

    // 
    //  ON CLICK OF BOX, SET SELECTED BOX / CLUE
    //
    topcanvas.addEventListener('click', function(event) {
        var x = Math.ceil((event.pageX - canvas.offsetLeft)/BOX_SIZE);
        var y = Math.ceil((event.pageY - canvas.offsetTop)/BOX_SIZE);
        if (contains(blanks,[x,y])) {
            return;
        }
        if (curx == x && cury == y) {
            dir = !dir;
        } else {
            curx = x;
            cury = y;
        }
        setSelected(curx,cury,dir);
    });

    initializeFixedBoxes();

    //console.log(fixedBoxes);

    initializeInputBoxes();

    //console.log(inputBoxes);
    
    applyLocalStorage();

    setSelected(curx,cury,dir);

    </script>


    <footer>
        <a href="http://facebook.com/nathanmajumder"><img src="img/FB_logo.png" alt="Facebook logo"></a>
        <a href="https://github.com/nmajumder"><img src="img/GH_logo.png" alt="Github logo"></a>
        <a href="https://www.linkedin.com/pub/nathan-majumder/a6/29/b34?domainCountryName=&csrfToken=ajax%3A6249601243831115177"><img src="img/LI_logo.png" alt="LinkedIn logo"></a>
        <p>&copy; 2018 Nathan Majumder.</p>
      </footer>
    </div>
  </body>
</html>